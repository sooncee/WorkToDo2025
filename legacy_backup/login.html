<!doctype html>
<html lang="ko">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Î°úÍ∑∏Ïù∏ - Todo Calendar</title>
      <link rel="stylesheet" type="text/css" href="/assets/css/style.min.css" />
      <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
   </head>
   <body>
      <!-- Î°úÍ∑∏Ïù∏/ÌöåÏõêÍ∞ÄÏûÖ ÏÑπÏÖò -->
      <div id="authSection" class="auth-section">
         <div class="auth-container">
            <h1>üìù Todo Calendar</h1>
            <div class="auth-tabs">
               <button class="auth-tab active" data-tab="login">Î°úÍ∑∏Ïù∏</button>
               <button class="auth-tab" data-tab="signup">ÌöåÏõêÍ∞ÄÏûÖ</button>
            </div>
            <div id="loginForm" class="auth-form">
               <input type="email" id="loginEmail" placeholder="Ïù¥Î©îÏùº" />
               <input type="password" id="loginPassword" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏" />
               <button id="loginBtn" class="auth-btn">Î°úÍ∑∏Ïù∏</button>
               <button id="googleLoginBtn" class="google-btn">GoogleÎ°ú Î°úÍ∑∏Ïù∏</button>
            </div>
            <div id="signupForm" class="auth-form" style="display: none">
               <input type="email" id="signupEmail" placeholder="Ïù¥Î©îÏùº" />
               <input type="password" id="signupPassword" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏" />
               <input type="password" id="signupPasswordConfirm" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏ ÌôïÏù∏" />
               <button id="signupBtn" class="auth-btn">ÌöåÏõêÍ∞ÄÏûÖ</button>
            </div>
         </div>
      </div>
      <script src="js/supabase.js"></script>
      <script src="js/auth.js"></script>
      <script>
         // Ïù¥ÎØ∏ Î°úÍ∑∏Ïù∏ÎêòÏñ¥ ÏûàÏúºÎ©¥ index.htmlÎ°ú Î¶¨Îã§Ïù¥Î†âÌä∏
         (async function () {
            if (!window.supabase) {
               await new Promise((r) => {
                  const check = setInterval(() => {
                     if (window.supabase) {
                        clearInterval(check);
                        r();
                     }
                  }, 50);
               });
            }
            const supabaseJs = window.supabase;
            const SUPABASE_URL = 'https://aewnnwhiruatlkvtnwtb.supabase.co';
            const SUPABASE_ANON_KEY =
               'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFld25ud2hpcnVhdGxrdnRud3RiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NjQ4MTgsImV4cCI6MjA3ODQ0MDgxOH0.LPnV7cdCMLqzy1B4hHM02Nv-LXSQyJla4V6x9iQaTIA';
            const client = supabaseJs.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
            const {
               data: { session },
            } = await client.auth.getSession();
            if (session) {
               window.location.href = 'index.html';
            }
         })();
      </script>
   </body>
</html>
