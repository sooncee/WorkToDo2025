<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÎìúÎûòÍ∑∏ Í∞ÄÎä•Ìïú Ìà¨ÎëêÎ¶¨Ïä§Ìä∏</title>
    <!-- LESS Ïä§ÌÉÄÏùº -->
    <link rel="stylesheet/less" type="text/css" href="css/style.less" />
    <script src="https://cdn.jsdelivr.net/npm/less@4"></script>
    <!-- Supabase JS -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>
    <!-- Î°úÍ∑∏Ïù∏ ÏÑπÏÖò -->
    <div id="authSection" class="auth-section">
        <div class="auth-container">
            <h1>üìù Todo Calendar</h1>
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">Î°úÍ∑∏Ïù∏</button>
                <button class="auth-tab" data-tab="signup">ÌöåÏõêÍ∞ÄÏûÖ</button>
            </div>

            <div id="loginForm" class="auth-form">
                <input type="email" id="loginEmail" placeholder="Ïù¥Î©îÏùº" />
                <input type="password" id="loginPassword" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏" />
                <button id="loginBtn" class="auth-btn">Î°úÍ∑∏Ïù∏</button>
                <button id="googleLoginBtn" class="google-btn">GoogleÎ°ú Î°úÍ∑∏Ïù∏</button>
            </div>

            <div id="signupForm" class="auth-form" style="display: none;">
                <input type="email" id="signupEmail" placeholder="Ïù¥Î©îÏùº" />
                <input type="password" id="signupPassword" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏" />
                <input type="password" id="signupPasswordConfirm" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏ ÌôïÏù∏" />
                <button id="signupBtn" class="auth-btn">ÌöåÏõêÍ∞ÄÏûÖ</button>
            </div>
        </div>
    </div>

    <!-- Ïï± ÏÑπÏÖò -->
    <div id="appSection" class="app-section" style="display: none;">
        <!-- ÏÇ¨Ïù¥ÎìúÎ∞î -->
        <nav class="sidebar">
            <div class="sidebar-menu">
                <button class="sidebar-item active" data-view="dashboard" title="ÎåÄÏãúÎ≥¥Îìú">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"></rect>
                        <rect x="14" y="3" width="7" height="7"></rect>
                        <rect x="14" y="14" width="7" height="7"></rect>
                        <rect x="3" y="14" width="7" height="7"></rect>
                    </svg>
                </button>
                <button class="sidebar-item" data-view="todos" title="Ìï†Ïùº Î™©Î°ù">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10 9 9 9 8 9"></polyline>
                    </svg>
                </button>
                <button class="sidebar-item" data-view="calendar" title="Ï∫òÎ¶∞Îçî">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                </button>
                <button class="sidebar-item" data-view="completed" title="ÏôÑÎ£åÎêú Ìï†Ïùº">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                        <polyline points="9 15 11 17 15 13"></polyline>
                    </svg>
                </button>
            </div>
            <div class="sidebar-bottom">
                <button class="sidebar-item" id="sidebarSettings" title="ÏÑ§Ï†ï">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M12 1v6m0 6v6m-9-9h6m6 0h6"></path>
                    </svg>
                </button>
                <button class="sidebar-item" id="sidebarLogout" title="Î°úÍ∑∏ÏïÑÏõÉ">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                </button>
            </div>
        </nav>

        <div class="container">
            <!-- ÎåÄÏãúÎ≥¥Îìú ÏÑπÏÖò -->
            <section class="section dashboard-section">
                <div class="dashboard-header">
                    <h1>ÎåÄÏãúÎ≥¥Îìú</h1>
                </div>

                <!-- ÌÜµÍ≥Ñ Ïπ¥Îìú -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon" style="color: #667eea;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="statActive">0</div>
                            <div class="stat-label">ÏßÑÌñâÏ§ëÏù∏ Ìï†Ïùº</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="color: #f093fb;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                <polyline points="22 4 12 14.01 9 11.01"></polyline>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="statCompleted">0</div>
                            <div class="stat-label">ÏôÑÎ£åÎêú Ìï†Ïùº</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="color: #4facfe;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="statScheduled">0</div>
                            <div class="stat-label">ÏòàÏ†ïÎêú Ìï†Ïùº</div>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon" style="color: #43e97b;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <line x1="12" y1="1" x2="12" y2="23"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-value" id="statCompletionRate">0%</div>
                            <div class="stat-label">ÏôÑÎ£åÏú®</div>
                        </div>
                    </div>
                </div>

                <!-- ÏµúÍ∑º ÌôúÎèô -->
                <div class="dashboard-content">
                    <div class="dashboard-card">
                        <h3>üìÖ Ïù¥Î≤à Ï£º ÏòàÏ†ï</h3>
                        <div id="weeklySchedule" class="weekly-schedule"></div>
                    </div>

                    <div class="dashboard-card">
                        <h3>üéØ ÏµúÍ∑º ÏôÑÎ£å</h3>
                        <div id="recentCompleted" class="recent-list"></div>
                    </div>
                </div>
            </section>

            <!-- ÏÑπÏÖò 1: Ìï†Ïùº Î™©Î°ù -->
            <section class="section todo-section" style="display: none;">
                <h2>Ìï†Ïùº Î™©Î°ù</h2>
                <div class="tabs">
                    <button class="tab-btn active" data-tab="active">ÏßÑÌñâÏ§ë</button>
                    <button class="tab-btn" data-tab="completed">ÏôÑÎ£å</button>
                </div>
                <button id="addTodoBtn" class="add-todo-btn">+ ÏÉà Ìï†Ïùº Ï∂îÍ∞Ä</button>
                <div id="todoList" class="todo-list drop-zone"></div>
            </section>

            <!-- ÏÑπÏÖò 2: Ï∫òÎ¶∞Îçî -->
            <section class="section calendar-section" style="display: none;">
                <h2>Ï∫òÎ¶∞Îçî</h2>
                <div class="calendar-controls">
                    <div class="calendar-header">
                        <button id="prevPeriod">&lt;</button>
                        <h3 id="currentPeriod"></h3>
                        <button id="nextPeriod">&gt;</button>
                    </div>
                    <div class="view-switcher">
                        <button class="view-btn active" data-view="calendar">Ï∫òÎ¶∞Îçî</button>
                        <button class="view-btn" data-view="list">Î¶¨Ïä§Ìä∏</button>
                    </div>
                </div>
                <div id="calendar" class="calendar"></div>
            </section>
        </div>

        <!-- Ìï†Ïùº Ï∂îÍ∞Ä Î™®Îã¨ -->
        <div id="addModal" class="modal">
            <div class="modal-content">
                <span class="close-add">&times;</span>
                <h2>ÏÉà Ìï†Ïùº Ï∂îÍ∞Ä</h2>
                <div class="modal-body">
                    <div class="modal-form">
                        <label>Ï†úÎ™©</label>
                        <input type="text" id="newTodoTitle" placeholder="Ï†úÎ™©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî">
                        <label>ÎÇ¥Ïö©</label>
                        <textarea id="newTodoContent" placeholder="ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî (ÏÑ†ÌÉùÏÇ¨Ìï≠)" rows="5"></textarea>
                        <div class="modal-color-picker">
                            <label>ÏÉâÏÉÅ</label>
                            <div class="color-options">
                                <div class="color-option" data-color="#667eea" style="background: #667eea;"></div>
                                <div class="color-option" data-color="#f093fb" style="background: #f093fb;"></div>
                                <div class="color-option" data-color="#4facfe" style="background: #4facfe;"></div>
                                <div class="color-option" data-color="#43e97b" style="background: #43e97b;"></div>
                                <div class="color-option" data-color="#fa709a" style="background: #fa709a;"></div>
                                <div class="color-option" data-color="#feca57" style="background: #feca57;"></div>
                                <div class="color-option" data-color="#ff6b6b" style="background: #ff6b6b;"></div>
                                <div class="color-option active" data-color="#a8a8a8" style="background: #a8a8a8;">
                                </div>
                            </div>
                        </div>
                        <div class="modal-buttons">
                            <button id="createTodoBtn" class="save-btn">Ï∂îÍ∞Ä</button>
                            <button id="cancelAddBtn" class="cancel-btn">Ï∑®ÏÜå</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ìï†Ïùº ÏàòÏ†ï Î™®Îã¨ -->
        <div id="editModal" class="modal">
            <div class="modal-content">
                <span class="close-edit">&times;</span>
                <div class="modal-body"></div>
            </div>
        </div>

        <script src="js/supabase.js"></script>
        <script src="js/state.js"></script>
        <script src="js/todo.js"></script>
        <script src="js/calendar.js"></script>
        <script src="js/drag.js"></script>
        <script src="js/modal.js"></script>
        <script src="js/dashboard.js"></script>
        <script src="js/sidebar.js"></script>
        <script src="js/main.js"></script>
        <script src="js/auth.js"></script>
    </div>
</body>

</html>